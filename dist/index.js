"use strict";var M=Object.defineProperty;var Ae=Object.getOwnPropertyDescriptor;var Ee=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var z=(e,t,r)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))W.call(t,r)&&z(e,r,t[r]);if(Q)for(var r of Q(t))Pe.call(t,r)&&z(e,r,t[r]);return e};var Le=(e,t)=>{for(var r in t)M(e,r,{get:t[r],enumerable:!0})},He=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ee(t))!W.call(e,n)&&n!==r&&M(e,n,{get:()=>t[n],enumerable:!(o=Ae(t,n))||o.enumerable});return e};var ke=e=>He(M({},"__esModule",{value:!0}),e);var T=(e,t,r)=>(z(e,typeof t!="symbol"?t+"":t,r),r);var Ke={};Le(Ke,{Msg:()=>q,Rest:()=>I,RestError:()=>D,TimeoutError:()=>U,arr:()=>oe,bool:()=>ne,bounds:()=>ge,camel:()=>we,clean:()=>X,cloneJson:()=>ye,compact:()=>Y,copy:()=>le,debounce:()=>C,deleteKey:()=>Se,diff:()=>xe,firstLower:()=>B,firstUpper:()=>F,getJson:()=>f,getStored:()=>R,groupBy:()=>De,isArray:()=>d,isDate:()=>J,isEmpty:()=>ue,isEquals:()=>V,isFunction:()=>c,isNil:()=>p,isNotNull:()=>j,isRecord:()=>l,isString:()=>u,isUuid:()=>Te,last:()=>$,me:()=>se,moveIndex:()=>O,moveItem:()=>ee,nbr:()=>ae,parseJson:()=>x,pascal:()=>_,paste:()=>de,rand:()=>Re,range:()=>Z,rec:()=>ie,removeItem:()=>w,rest:()=>Oe,retry:()=>be,round:()=>he,setStored:()=>b,sleep:()=>Ue,sort:()=>te,sortKey:()=>Ie,str:()=>A,throttle:()=>K,toArray:()=>P,toBoolean:()=>L,toDate:()=>pe,toError:()=>me,toNull:()=>fe,toNumber:()=>H,toRecord:()=>k,toString:()=>N,toVoid:()=>ce,tryCatch:()=>h,uniq:()=>re,valueBy:()=>E,withTimeout:()=>ve,words:()=>G});module.exports=ke(Ke);var Y=e=>e.filter(Boolean);var $=e=>e[e.length-1];var O=(e,t,r)=>{if(t===r)return e;let o=e.splice(t,1);return e.splice(r,0,o[0]),e};var ee=(e,t,r)=>{let o=e.indexOf(t);if(o===-1)return e;let n=(o+r)%5;return n<0&&(n+=e.length),O(e,o,n)};var p=e=>e==null;var Z=(e,t)=>p(t)?Array.from(Array(e).keys()):Z(t-e+1).map(r=>r+e);var w=(e,t)=>{let r=e.indexOf(t);return r===-1||e.splice(r,1),e};var N=(e,t="")=>p(e)?t:String(e);var A=e=>N(e);var u=e=>typeof e=="string";var te=(e,t=A)=>e.sort((r,o)=>{let n=t(r),i=t(o);return u(n)||u(i)?String(n).localeCompare(String(i)):Number(n)-Number(i)});var h=(e,t)=>{try{return e()}catch(r){return t}};var f=(e,t,r)=>h(()=>JSON.stringify(e,null,r?2:0),t);var l=e=>e instanceof Object&&!Array.isArray(e);var d=Array.isArray;var c=e=>e instanceof Function;var E=(e,t,r)=>{let o={},n=c(t)?t:p(t)?(s,a)=>a:s=>s[t],i=c(r)?r:p(r)?s=>s:s=>s[r];return d(e)&&e.forEach((s,a)=>{o[n(s,a)]=i(s,a)}),l(e)&&Object.entries(e).forEach(s=>{let a=s[0],m=s[1];o[n(m,a)]=i(m,a)}),o};var re=e=>Object.values(E(e,t=>f(t)));var P=(e,t=[])=>p(e)?t:d(e)?e:[e];var oe=e=>P(e);var L=(e,t)=>u(e)?["true","ok","on","1"].indexOf(String(e).toLowerCase())!==-1:p(e)?t:!!e;var ne=e=>L(e);var se=e=>e;var H=(e,t)=>{let r=u(e)?e.replace(/,/g,".").replace(/[^0-9\-\.]/g,""):String(e),o=r!==""?Number(r):Number.NaN;return Number.isNaN(o)?t:o};var ae=e=>H(e,0);var k=(e,t={})=>l(e)?e:t;var ie=e=>k(e);var J=e=>e instanceof Date;var v=e=>typeof e=="number";var pe=(e,t)=>J(e)?e:u(e)||v(e)?new Date(e):p(e)?new Date:t;var me=e=>e instanceof Error?e:new Error(String(e));var fe=()=>null;var ce=()=>{};var ue=e=>!e||(d(e)?e:Object.keys(e)).length===0;var V=(e,t)=>{if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0,o=e.length;r<o;r++)if(!V(e[r],t[r]))return!1;return!0}if(e instanceof Object){if(!l(t)||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!V(e[r],t[r]))return!1;return!0}return f(e)===f(t)};var j=e=>e!=null;var Te=e=>{let t=String(e).replace(/[a-zA-Z0-9]+/g,r=>""+r.length);return t==="8-4-4-4-12"||t==="32"};var b=(e,t)=>{let r=p(t)?void 0:f(t);p(r)?globalThis.localStorage.removeItem(e):globalThis.localStorage.setItem(e,r)};var le=e=>(b("__clipboard",e),navigator&&navigator.clipboard?navigator.clipboard.writeText(f(e,"")):Promise.resolve());var x=(e,t)=>h(()=>JSON.parse(e),t);var R=(e,t)=>x(globalThis.localStorage.getItem(e),t);var de=()=>navigator&&navigator.clipboard?navigator.clipboard.readText().then(e=>x(e,e)).catch(()=>R("__clipboard")):Promise.resolve(R("__clipboard"));var ye=(e,t)=>x(f(e),t);var C=(e,t)=>{let r,o,n=()=>{r=null,e(o)};return i=>{o=i,r&&clearTimeout(r),r=setTimeout(n,t)}};var K=(e,t)=>{let r=0,o,n,i=()=>{n=null,e(o),r=Date.now()};return s=>{o=s,n&&clearTimeout(n);let a=Math.max(t-(Date.now()-r),0);a===0?i():n=setTimeout(i,a)}};var S=class S{constructor(t,r){T(this,"k");T(this,"v");T(this,"h",[]);T(this,"s");T(this,"sO");T(this,"sH");this.v=t,r&&(this.k=r)}static get(t,r,o){let n=this.byKey[t];return n||(n=new S(r,t),o&&(n.set(R(t,r)),n.on(i=>b(t,i))),this.byKey[t]=n,n)}get val(){return this.get()}get value(){return this.get()}get key(){return this.k}get(){return this.v}set(t){if(t!==this.v){let r=this.v;this.v=t,this.h.forEach(o=>o(this.v,r))}return this}next(t){return this.set(c(t)?t(this.v):t)}subscribe(t){return{unsubscribe:this.on(t)}}pipe(t){return t.set(this.v),this.on(r=>t.set(r))}on(t){return this.h.push(t),!this.sO&&this.s&&this.sH&&(this.sO=this.s.on(this.sH)),()=>this.off(t)}off(t){w(this.h,t),this.sO&&this.h.length===0&&(this.sO(),delete this.sO)}map(t,r){let o=this,n=new S(t(o.v));return n.s=o,n.sH=r?r(n):()=>n.set(t(o.v)),n}debounce(t){return this.map(()=>this.v,r=>C(o=>r.set(o),t))}throttle(t){return this.map(()=>this.v,r=>K(o=>r.set(o),t))}toPromise(t=j){return new Promise(r=>{if(t(this.v))return r(this.v);let o=this.on(n=>{t(n)&&(o(),r(n))})})}};T(S,"byKey",{});var q=S;var ge=(e,t,r)=>v(t)&&e<t?t:v(r)&&e>r?r:e;var xe=(e,t)=>Math.abs(e-t);var Re=(e,t)=>Math.random()*(t-e)+e;var he=(e,t)=>{let r=Math.pow(10,t||0);return Math.round(e*r)/r};var be=async(e,t=2)=>{let r;for(let o=0;o<t;o++)try{return await e()}catch(n){r=n}throw r};var Ue=e=>new Promise(t=>setTimeout(t,e));var U=class extends Error{constructor(t){super(t),this.name="TimeoutError"}};var ve=(e,t=5e3)=>new Promise((r,o)=>{let n=setTimeout(()=>o(new U),t);e.then(r).catch(o).finally(()=>clearTimeout(n))});var Se=(e,...t)=>{for(let r of t)delete e[r];return e};var De=(e,t,r)=>{let o={},n=c(t)?t:p(t)?(s,a)=>a:s=>s[t],i=c(r)?r:p(r)?s=>s:s=>s[r];return d(e)&&e.forEach((s,a)=>{let m=n(s,a);(o[m]||(o[m]=[])).push(i(s,a))}),l(e)&&Object.entries(e).forEach(s=>{let a=s[0],m=s[1],g=n(m,a);(o[g]||(o[g]=[])).push(i(m,a))}),o};var Ie=e=>Object.fromEntries(Object.entries(e).sort((t,r)=>t[0].localeCompare(r[0])));var Me="application/json; charset=utf-8",Je={json:Me,text:"text/*; charset=utf-8",blob:"*/*",document:"text/html, application/xhtml+xml, application/xml; q=0.9; charset=utf-8",arraybuffer:"*/*"},Ve=(e,t,r={})=>new Promise((o,n)=>{if(r.onInit&&r.onInit(e),e.timeout=r.timeout||2e4,e.responseType=r.responseType||"json",r.params||r.baseUrl){let s=new URL(t,r.baseUrl);r.params&&Object.entries(r.params).forEach(a=>{let m=a[0],g=a[1];if(Array.isArray(g)){s.searchParams.delete(m),Object.values(g).forEach(Ne=>s.searchParams.append(m,String(Ne)));return}if(typeof g=="object"){s.searchParams.set(m,JSON.stringify(g));return}s.searchParams.set(m,String(g))}),t=s}if(e.open((r.method||"POST").toUpperCase(),t),r.data&&e.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.setRequestHeader("Accept",Je[e.responseType]||Me),r.headers){let s=c(r.headers)?r.headers():r.headers;Object.entries(s).forEach(a=>e.setRequestHeader(a[0],a[1]))}if(r.onProgress){let s=r.onProgress;e.addEventListener("progress",a=>s(a,a.loaded/a.total))}let i=r.data?JSON.stringify(r.data):r.formData;e.onload=()=>{if(e.status>=400)throw e.status;r.onSuccess&&r.onSuccess(e.response,e),o(e.response)},e.onerror=()=>{let s=new D(e);r.onError&&r.onError(s,e),n(s)},r.send?r.send(e,i):e.send(i)}),je=e=>String(e&&e.message||e),Ce=e=>String(e&&e.code),D=class extends Error{constructor(r){super(je(r.response)||r.statusText);this.xhr=r;T(this,"code");this.code=Ce(r.response)||String(r.status)}},I=class e{constructor(t){this.options=t}new(t){return new e(t)}newXhr(){return new globalThis.XMLHttpRequest}send(t,r={}){let o=this.newXhr();return Ve(o,t,this.options?y(y({},this.options),r):r)}get(t,r={}){return this.send(t,y({method:"GET"},r))}delete(t,r={}){return this.send(t,y({method:"DELETE"},r))}post(t,r,o={}){return this.send(t,y({method:"POST",data:r},o))}patch(t,r,o={}){return this.send(t,y({method:"PATCH",data:r},o))}put(t,r,o={}){return this.send(t,y({method:"PUT",data:r},o))}upload(t,r,o,n,i={}){let s=new FormData;return s.append(r,o,n||o.name),this.send(t,y({method:"POST",formData:s},i))}},Oe=new I;var B=e=>e&&e[0].toLowerCase()+e.substring(1);var F=e=>e&&e[0].toUpperCase()+e.substring(1);var X=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w]/g," ").trim();var G=e=>X(e).replace(/[a-z0-9][A-Z]/g,t=>t[0]+" "+t[1].toLowerCase()).toLowerCase().trim().split(" ").filter(t=>t);var _=e=>G(e).map(F).join("");var we=e=>B(_(e));0&&(module.exports={Msg,Rest,RestError,TimeoutError,arr,bool,bounds,camel,clean,cloneJson,compact,copy,debounce,deleteKey,diff,firstLower,firstUpper,getJson,getStored,groupBy,isArray,isDate,isEmpty,isEquals,isFunction,isNil,isNotNull,isRecord,isString,isUuid,last,me,moveIndex,moveItem,nbr,parseJson,pascal,paste,rand,range,rec,removeItem,rest,retry,round,setStored,sleep,sort,sortKey,str,throttle,toArray,toBoolean,toDate,toError,toNull,toNumber,toRecord,toString,toVoid,tryCatch,uniq,valueBy,withTimeout,words});
