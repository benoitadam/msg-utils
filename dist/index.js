"use strict";var N=Object.defineProperty;var ce=Object.getOwnPropertyDescriptor;var fe=Object.getOwnPropertyNames;var Te=Object.prototype.hasOwnProperty;var ue=(e,t)=>{for(var r in t)N(e,r,{get:t[r],enumerable:!0})},le=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of fe(t))!Te.call(e,n)&&n!==r&&N(e,n,{get:()=>t[n],enumerable:!(o=ce(t,n))||o.enumerable});return e};var de=e=>le(N({},"__esModule",{value:!0}),e);var $e={};ue($e,{Msg:()=>X,Rest:()=>w,RestError:()=>S,TimeoutError:()=>M,arr:()=>ve,bool:()=>De,bounds:()=>je,camel:()=>Ye,clean:()=>z,cloneJson:()=>Je,compact:()=>ye,copy:()=>He,debounce:()=>B,deleteKey:()=>Xe,diff:()=>ke,first:()=>ge,firstLower:()=>G,firstUpper:()=>_,getJson:()=>c,getStored:()=>R,groupBy:()=>be,isArray:()=>d,isDate:()=>V,isEmpty:()=>Ee,isEquals:()=>q,isFunction:()=>T,isNil:()=>a,isNotNull:()=>K,isNumber:()=>x,isRecord:()=>l,isString:()=>f,isUuid:()=>Le,last:()=>xe,me:()=>Me,moveIndex:()=>I,moveItem:()=>Re,nbr:()=>Se,parseJson:()=>y,pascal:()=>Q,paste:()=>Ce,rand:()=>Ve,range:()=>te,rec:()=>Ae,removeItem:()=>P,rest:()=>We,retry:()=>Ke,round:()=>qe,setStored:()=>D,sleep:()=>Be,sort:()=>he,sortKey:()=>Ge,str:()=>L,throttle:()=>F,toArray:()=>C,toBoolean:()=>J,toDate:()=>we,toError:()=>Oe,toNull:()=>Ne,toNumber:()=>j,toRecord:()=>k,toString:()=>E,toVoid:()=>Ie,tryCatch:()=>v,uniq:()=>Ue,valueBy:()=>H,withTimeout:()=>Fe,words:()=>Z});module.exports=de($e);var ye=e=>e.filter(Boolean);var ge=e=>e[0];var xe=e=>e[e.length-1];var I=(e,t,r)=>{if(t===r)return e;let o=e.splice(t,1);return e.splice(r,0,o[0]),e};var Re=(e,t,r)=>{let o=e.indexOf(t);if(o===-1)return e;let n=(o+r)%5;return n<0&&(n+=e.length),I(e,o,n)};var a=e=>e==null;var te=(e,t)=>a(t)?Array.from(Array(e).keys()):te(t-e+1).map(r=>r+e);var P=(e,t)=>{let r=e.indexOf(t);return r===-1||e.splice(r,1),e};var E=(e,t="")=>a(e)?t:String(e);var L=e=>E(e);var f=e=>typeof e=="string";var he=(e,t=L)=>e.sort((r,o)=>{let n=t(r),s=t(o);return f(n)||f(s)?String(n).localeCompare(String(s)):Number(n)-Number(s)});var v=(e,t)=>{try{return e()}catch{return t}};var c=(e,t,r)=>v(()=>JSON.stringify(e,null,r?2:0),t);var l=e=>e instanceof Object&&!Array.isArray(e);var d=Array.isArray;var T=e=>e instanceof Function;var re=(e,t,r,o)=>{let n=T(t)?t:a(t)?(i,m)=>m:i=>i[t],s=T(r)?r:a(r)?i=>i:i=>i[r];d(e)&&e.forEach((i,m)=>{o(n(i,m),s(i,m))}),l(e)&&Object.entries(e).forEach(([i,m])=>{o(n(m,i),s(m,i))})},be=(e,t,r)=>{let o={};return re(e,t,r,(n,s)=>{(o[n]||(o[n]=[])).push(s)}),o},H=(e,t,r)=>{let o={};return re(e,t,r,(n,s)=>{o[n]=s}),o};var Ue=e=>Object.values(H(e,t=>c(t)));var C=(e,t=[])=>a(e)?t:d(e)?e:[e];var ve=e=>C(e);var J=(e,t)=>f(e)?["true","ok","on","1"].indexOf(String(e).toLowerCase())!==-1:a(e)?t:!!e;var De=e=>J(e);var Me=e=>e;var j=(e,t)=>{let r=f(e)?e.replace(/,/g,".").replace(/[^0-9\-\.]/g,""):String(e),o=r!==""?Number(r):Number.NaN;return Number.isNaN(o)?t:o};var Se=e=>j(e,0);var k=(e,t={})=>l(e)?e:t;var Ae=e=>k(e);var V=e=>e instanceof Date;var x=e=>typeof e=="number";var we=(e,t)=>V(e)?e:f(e)||x(e)?new Date(e):a(e)?new Date:t;var Oe=e=>e instanceof Error?e:new Error(String(e));var Ne=()=>null;var Ie=()=>{};var Pe=e=>{for(let t in e)return!1;return!0},Ee=e=>!e||(d(e)?e.length===0:Pe(e));var q=(e,t)=>{if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0,o=e.length;r<o;r++)if(!q(e[r],t[r]))return!1;return!0}if(e instanceof Object){if(!l(t)||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!q(e[r],t[r]))return!1;return!0}return c(e)===c(t)};var K=e=>e!=null;var Le=e=>{let t=String(e).replace(/[a-zA-Z0-9]+/g,r=>""+r.length);return t==="8-4-4-4-12"||t==="32"};var D=(e,t)=>{let r=a(t)?void 0:c(t);a(r)?globalThis.localStorage.removeItem(e):globalThis.localStorage.setItem(e,r)};var He=e=>(D("__clipboard",e),navigator&&navigator.clipboard?navigator.clipboard.writeText(c(e,"")):Promise.resolve());var y=(e,t)=>v(()=>JSON.parse(e),t);var R=(e,t)=>y(globalThis.localStorage.getItem(e),t);var Ce=()=>navigator&&navigator.clipboard?navigator.clipboard.readText().then(e=>y(e,e)).catch(()=>R("__clipboard")):Promise.resolve(R("__clipboard"));var Je=(e,t)=>y(c(e),t);var B=(e,t)=>{let r,o,n=()=>{r=null,e(o)};return s=>{o=s,r&&clearTimeout(r),r=setTimeout(n,t)}};var F=(e,t)=>{let r=0,o,n,s=()=>{n=null,e(o),r=Date.now()};return i=>{o=i,n&&clearTimeout(n);let m=Math.max(t-(Date.now()-r),0);m===0?s():n=setTimeout(s,m)}};var X=class e{static byKey={};static get(t,r,o){let n=this.byKey[t];return n||(n=new e(r,t),o&&(n.set(R(t,r)),n.on(s=>D(t,s))),this.byKey[t]=n,n)}k;v;h=[];s;sO;sH;constructor(t,r){this.v=t,r&&(this.k=r)}get val(){return this.get()}get value(){return this.get()}get key(){return this.k}get(){return this.v}set(t){if(t!==this.v){let r=this.v;this.v=t,this.h.forEach(o=>o(this.v,r))}return this}next(t){return this.set(T(t)?t(this.v):t)}subscribe(t){return{unsubscribe:this.on(t)}}pipe(t){return t.set(this.v),this.on(r=>t.set(r))}on(t){return this.h.push(t),!this.sO&&this.s&&this.sH&&(this.sO=this.s.on(this.sH)),()=>this.off(t)}off(t){P(this.h,t),this.sO&&this.h.length===0&&(this.sO(),delete this.sO)}map(t,r){let o=this,n=new e(t(o.v));return n.s=o,n.sH=r?r(n):()=>n.set(t(o.v)),n}debounce(t){return this.map(()=>this.v,r=>B(o=>r.set(o),t))}throttle(t){return this.map(()=>this.v,r=>F(o=>r.set(o),t))}toPromise(t=K){return new Promise(r=>{if(t(this.v))return r(this.v);let o=this.on(n=>{t(n)&&(o(),r(n))})})}};var je=(e,t,r)=>x(t)&&e<t?t:x(r)&&e>r?r:e;var ke=(e,t)=>Math.abs(e-t);var Ve=(e,t)=>Math.random()*(t-e)+e;var qe=(e,t)=>{let r=Math.pow(10,t||0);return Math.round(e*r)/r};var Ke=async(e,t=2)=>{let r;for(let o=0;o<t;o++)try{return await e()}catch(n){r=n}throw r};var Be=e=>new Promise(t=>setTimeout(t,e));var M=class extends Error{constructor(t){super(t),this.name="TimeoutError"}};var Fe=(e,t=5e3)=>new Promise((r,o)=>{let n=setTimeout(()=>o(new M),t);e.then(r).catch(o).finally(()=>clearTimeout(n))});var Xe=(e,...t)=>{for(let r of t)delete e[r];return e};var Ge=e=>Object.fromEntries(Object.entries(e).sort((t,r)=>t[0].localeCompare(r[0])));var oe="application/json; charset=utf-8",_e={json:oe,text:"text/*; charset=utf-8",blob:"*/*",document:"text/html, application/xhtml+xml, application/xml; q=0.9; charset=utf-8",arraybuffer:"*/*"},ze=(e,t,r={})=>new Promise((o,n)=>{let{onInit:s,baseUrl:i,onProgress:m,onError:A,onSuccess:W,send:Y,data:O,timeout:ne,responseType:se,noCache:ie,method:ae,formData:pe}=r,{headers:u,params:h}=r;if(s&&s(e),e.timeout=ne||2e4,e.responseType=se||"json",T(u)&&(u=u()),ie&&(u={"Cache-Control":"no-cache, no-store, max-age=0",Expires:"Thu, 1 Jan 1970 00:00:00 GMT",Pragma:"no-cache",...u},h={noCache:Date.now(),...h}),h||i){let p=new URL(t,i);if(h){let b=p.searchParams;Object.entries(h).forEach(ee=>{let U=ee[0],g=ee[1];if(g===null&&b.delete(U),Array.isArray(g)){b.delete(U),Object.values(g).forEach(me=>b.append(U,String(me)));return}if(typeof g=="object"){b.set(U,JSON.stringify(g));return}b.set(U,String(g))})}t=p}e.open((ae||"POST").toUpperCase(),t),O&&e.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.setRequestHeader("Accept",_e[e.responseType]||oe),u&&Object.entries(u).forEach(p=>e.setRequestHeader(p[0],p[1])),m&&e.addEventListener("progress",p=>m(p,p.loaded/p.total));let $=O?JSON.stringify(O):pe;e.onloadend=()=>{if(e.status>=400){let p=new S(e);A&&A(p,e),n(p)}W&&W(e.response,e),o(e.response)},e.onerror=()=>{let p=new S(e);A&&A(p,e),n(p)},Y?Y(e,$):e.send($)}),Ze=e=>String(e&&e.message||e),Qe=e=>String(e&&e.code),S=class extends Error{constructor(r){super(Ze(r.response)||r.statusText);this.xhr=r;this.code=Qe(r.response)||String(r.status)}code},w=class e{constructor(t){this.options=t}new(t){return new e(t)}newXhr(){return new globalThis.XMLHttpRequest}send(t,r={}){let o=this.newXhr();return ze(o,t,this.options?{...this.options,...r}:r)}get(t,r={}){return this.send(t,{method:"GET",...r})}delete(t,r={}){return this.send(t,{method:"DELETE",...r})}post(t,r,o={}){return this.send(t,{method:"POST",data:r,...o})}patch(t,r,o={}){return this.send(t,{method:"PATCH",data:r,...o})}put(t,r,o={}){return this.send(t,{method:"PUT",data:r,...o})}upload(t,r,o,n,s={}){let i=new FormData;return i.append(r,o,n||o.name),this.send(t,{method:"POST",formData:i,...s})}},We=new w;var G=e=>e&&e[0].toLowerCase()+e.substring(1);var _=e=>e&&e[0].toUpperCase()+e.substring(1);var z=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w]/g," ").trim();var Z=e=>z(e).replace(/[a-z0-9][A-Z]/g,t=>t[0]+" "+t[1].toLowerCase()).toLowerCase().trim().split(" ").filter(t=>t);var Q=e=>Z(e).map(_).join("");var Ye=e=>G(Q(e));0&&(module.exports={Msg,Rest,RestError,TimeoutError,arr,bool,bounds,camel,clean,cloneJson,compact,copy,debounce,deleteKey,diff,first,firstLower,firstUpper,getJson,getStored,groupBy,isArray,isDate,isEmpty,isEquals,isFunction,isNil,isNotNull,isNumber,isRecord,isString,isUuid,last,me,moveIndex,moveItem,nbr,parseJson,pascal,paste,rand,range,rec,removeItem,rest,retry,round,setStored,sleep,sort,sortKey,str,throttle,toArray,toBoolean,toDate,toError,toNull,toNumber,toRecord,toString,toVoid,tryCatch,uniq,valueBy,withTimeout,words});
